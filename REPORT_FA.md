# گزارش تحویل پروژه (Next.js 14.2.15+, React 18.2.0, Node 24.12.0)

این بسته، نسخه‌ی تکمیل‌شده‌ی وب‌سایت «بهائی‌کاوی» بر اساس UI/UX اسکفلد و ساختار چندزبانه است.

## نسخه‌ها (Pin شده)

- **Node.js:** 24.12.0  (با `.nvmrc` و `.node-version`)
- **React:** 18.2.0 (ثابت)
- **Next.js:** 14.2.15

## ساختار مسیرها (سه‌زبانه)

تمام صفحات تحت مسیر زبان هستند:

- `/fa` ، `/ps` ، `/en`

و صفحات داخلی:

- `/{lang}/what-is-bahai`
- `/{lang}/history`
- `/{lang}/critique`
- `/{lang}/qa`
- `/{lang}/articles`
- `/{lang}/media`
- `/{lang}/mahdism`
- `/{lang}/contact`

## صفحات تکمیل‌شده

همه‌ی صفحات منوی اصلی و صفحات باقی‌مانده تکمیل شده‌اند و با یک Layout مشترک (Header/Drawer/Search/Footer) رندر می‌شوند.

## امنیت (برای اینکه گیر نکنید)

### 1) هدرهای امنیتی
در `next.config.js` این موارد فعال است:

- CSP (Content-Security-Policy)
- X-Frame-Options: DENY
- X-Content-Type-Options: nosniff
- Referrer-Policy
- Permissions-Policy

### 2) API امن برای فرم تماس
در `pages/api/contact.js`:

- اعتبارسنجی کامل سمت سرور با **Zod**
- **same-origin check** (جلوگیری از ارسال از دامنه‌های ناشناس)
- **Rate limit** سبک (۵ درخواست در ۱۰ دقیقه برای هر IP)

> پیام‌ها فعلاً در دیتابیس ذخیره نمی‌شوند تا وارد پیچیدگی DB/امنیت نشوید. در مرحله بعد می‌توان آن را به ایمیل/تیکتینگ امن وصل کرد.

## دیتابیس (پیشنهاد امن و ساده)

در این نسخه عمداً دیتابیس متصل نشده است. اگر خواستید اضافه کنید:

- پیشنهاد کم‌ریسک: **Prisma + SQLite** برای شروع (لوکال)
- برای سرور: **Postgres** (با `.env` و محدودسازی دسترسی)

## اجرای پروژه

```bash
npm install
npm run dev
```

## نکته مهم

فایل «UIUX Master Full» که اشاره کردید در این محیط برای من باز نشد (گزارش ابزار: فایل‌های قبلی منقضی شده‌اند). اگر بخواهید ۱۰۰٪ مطابق همان سند ریزبه‌ریز تنظیم کنم (متن‌های دقیق هر سکشن/کامپوننت/ترتیب‌ها)، لطفاً همان فایل را دوباره آپلود کنید.
